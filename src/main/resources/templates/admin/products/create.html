<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns:th="http://www.thymeleaf.org">
    <head th:insert = "~{admin/template_admin::head_admin}">
    <body>
        <div th:insert = "~{admin/template_admin::header_admin}"></div>

        <div class="container">
            <pre>
                

            </pre>
            <h1>Crear Producto</h1>

            <pre>
            </pre>

            <form class="form-horizontal" th:action="@{/admin/products/save-product}" method="post" enctype="multipart/form-data"> 
                <div class="form-group">
                    <label class="control-label col-sm-2 h5 font-weight-bold" for="name">Nombre:</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="name" name="name"
                               placeholder="Ingrese el nombre del producto" autocomplete="off" required>
                    </div>
                </div>

                <pre>
                </pre>

                <div class="form-group">
                    <label class="control-label col-sm-2 h5 font-weight-bold" for="description">Descripción:</label>
                    <div class="col-sm-10">
                        <textarea class="form-control" id="description" name="description"
                                  placeholder="Ingrese la descripcion del producto" required
                                  autocomplete="off"> </textarea>
                    </div>
                </div>

                <pre>
                </pre>

                <div class="form-group">
                    <label class="control-label col-sm-2 h5 font-weight-bold" for="price">Precio:</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" step="any" id="price" name="price"
                               placeholder="Ingrese el precio del producto" autocomplete="off" required>
                    </div>
                </div>

                <pre>
                </pre>

                <div class="form-group">
                    <label class="control-label col-sm-2 h5 font-weight-bold" for="img">Imagen:</label>
                    <div class="col-sm-10">
                        <input type="file" class="form-control-file" id="img" name="img">
                    </div>
                </div>
                
                 <pre>
                </pre>

                <div class="row">
                    <div class="col-sm-2">
                        <button type="submit" class="btn btn-success" onclick="showSuccessAlert()">
                            <span class="glyphicon glyphicon-saved"></span> Guardar
                            <button type="button" class="btn btn-danger" onclick="showCancelAlert()"  style="margin-left: 10px;">Cancelar</button>
                            
                    </div>
                </div>

            </form>  

        </div>

        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script th:inline="javascript">
                            function showSuccessAlert() {
                                Swal.fire({
                                    icon: 'success',
                                    title: '¡Producto creado con éxito!',
                                    showConfirmButton: false,
                                    timer: 7000, // Mostrar la alerta durante 3 segundos
                                });
                            }

                            function showCancelAlert() {
                                Swal.fire({
                                    icon: 'info',
                                    title: '¿Está seguro de que desea cancelar la operación?',
                                    showConfirmButton: true,
                                    showCancelButton: true,
                                    confirmButtonText: 'Sí',
                                    cancelButtonText: 'No'
                                }).then((result) => {
                                    if (result.isConfirmed) {
                                        window.location.href = '/admin';
                                    }
                                });
                            }
        </script>

    </body>

    <div class="footer" th:insert = "~{admin/template_admin::footer_admin}"></div>
    <style>
        .body{
            position: relative;
        }
        .footer{
            position: absolute;
            bottom:0px;
            height: 60px;
            width: 100%;
        }
    </style>
</html>